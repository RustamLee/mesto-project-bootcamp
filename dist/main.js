(()=>{"use strict";var e,t=document.querySelector(".profile__edit-button"),n=document.querySelector(".popup__profile"),r=document.querySelector(".popup-new-place"),o=document.querySelector(".popup-image"),c=document.querySelector(".profile__add-button"),i=document.querySelectorAll(".popup__close"),a=document.querySelector(".profile__info-name"),l=n.querySelector("#profile-name"),u=document.querySelector(".profile__info-subtitle"),s=n.querySelector("#profile-job"),p=document.querySelector(".content"),d=r.querySelector("#new-place-name"),m=r.querySelector("#new-place-src"),_=n.querySelector(".popup__edit-profile"),f=r.querySelector(".popup__edit-profile");function v(e){e.classList.remove("popup_opened")}function y(e){var t=document.getElementById("content-item").content.querySelector(".content__item").cloneNode(!0);return t.querySelector(".content__title").textContent=e.name,t.querySelector(".content__item-image").alt=e.name,t.querySelector(".content__item-image").src=e.link,t.querySelector(".content__like").addEventListener("click",(function(e){e.target.classList.toggle("content__like_active")})),t.querySelector(".content__trash").addEventListener("click",(function(e){e.target.closest(".content__item").remove()})),t.querySelector(".content__item-image").addEventListener("click",(function(e){o.querySelector(".popup-image__container").src=e.target.src,o.querySelector(".popup-image__name").textContent=e.target.alt,S(o)})),t}function S(e){e.classList.add("popup_opened")}function q(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove(n.inactiveButtonClass),t.removeAttribute("disabled")):(t.classList.add(n.inactiveButtonClass),t.setAttribute("disabled","disabled"))}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){p.prepend(y(e))})),i.forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return v(t)}))})),t.addEventListener("click",(function(e){l.value=a.textContent,s.value=u.textContent,S(n)})),_.addEventListener("submit",(function(e){e.preventDefault(),a.textContent=l.value,u.textContent=s.value,v(n)})),c.addEventListener("click",(function(e){d.value="",m.value="",S(r)})),document.addEventListener("keydown",(function(e){var t=document.querySelector(".popup_opened");"Escape"===e.key&&v(t)})),document.addEventListener("click",(function(e){var t=document.querySelector(".popup_opened");e.target===t&&v(t)})),f.addEventListener("submit",(function(e){e.preventDefault();var t={name:document.getElementById("new-place-name").value,link:document.getElementById("new-place-src").value};p.prepend(y(t)),f.reset(),v(r)})),e={formSelector:".popup__edit-profile",inputSelector:".popup__container-field",submitButtonSelector:".popup__container-button",inactiveButtonClass:"popup__container-button_disabled",inputErrorClass:"popup__container-field_error",errorClass:"popup__input-error_active"},Array.from(document.querySelectorAll(e.formSelector)).forEach((function(t){!function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);q(n,r,t),n.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,n){t.validity.valid?function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n.inputErrorClass),r.classList.remove(n.errorClass),r.textContent=""}(e,t,n):function(e,t,n,r){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add(r.inputErrorClass),o.textContent=n,o.classList.add(r.errorClass)}(e,t,t.validationMessage,n)}(e,o,t),q(n,r,t)}))}))}(t,e)}))})();